<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>解决tomcat中文URL乱码问题</title>
</head>
<body>
    <h2 id="section">外部表现</h2>

<p>访问含中文的url提示404</p>

<p>在服务器上中文命名的文件显示为问号 ????</p>

<h2 id="section-1">解决方案</h2>
<ol>
  <li>
    <p>从中文显示为问号入手, 执行<code class="highlighter-rouge">locale</code>, 是否会报错? $LANG, $LC_CTYPE, $LC_ALL是否都有值? 都正确的话跳过此节。</p>

    <p>显示</p>

    <p>locale: Cannot set LC_CTYPE to default locale: No such file or directory</p>

    <p>locale: Cannot set LC_ALL to default locale: No such file or directory</p>
  </li>
  <li>
    <p>修改/etc/sysconfig/i18n, 增加
<code class="highlighter-rouge">
LC_CTYPE="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
</code></p>
  </li>
  <li>
    <p>生效配置
<code class="highlighter-rouge">source /etc/sysconfig/i18n</code></p>
  </li>
  <li>
    <p>tomcat配置中增加
<code class="highlighter-rouge">
 URIEncoding="utf-8"
 useBodyEncodingForURI="true"
/&gt;
</code></p>
  </li>
  <li>
    <p>重启tomcat服务，访问url验证</p>
  </li>
</ol>

</body>
</html>
